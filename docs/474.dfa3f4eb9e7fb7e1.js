"use strict";(self.webpackChunkng_libs=self.webpackChunkng_libs||[]).push([[474],{474:(Oe,T,a)=>{a.r(T),a.d(T,{FormStepperModule:()=>Ze});var d=a(9808),m=a(3075);const N="formStepperPathParam";var e=a(5e3);let S=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","formStepperOnboarding",""]],inputs:{formStepperTitle:"formStepperTitle",formStepperPath:"formStepperPath"}}),n})(),b=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","formStepperSubmit",""]]}),n})(),_=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","formStepperSummary",""]],inputs:{formStepperTitle:"formStepperTitle",formStepperPath:"formStepperPath"}}),n})();var A=a(8929),J=a(6686),U=a(2268);const B=new class $ extends U.v{}(class E extends J.o{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}schedule(i,t=0){return t>0?super.schedule(i,t):(this.delay=t,this.state=i,this.scheduler.flush(this),this)}execute(i,t){return t>0||this.closed?super.execute(i,t):this._execute(i,t)}requestAsyncId(i,t,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(i,t,r):i.flush(this)}});var R=a(2654),Y=a(3489),V=a(8896),G=a(1086),j=a(1737);class u{constructor(i,t,r){this.kind=i,this.value=t,this.error=r,this.hasValue="N"===i}observe(i){switch(this.kind){case"N":return i.next&&i.next(this.value);case"E":return i.error&&i.error(this.error);case"C":return i.complete&&i.complete()}}do(i,t,r){switch(this.kind){case"N":return i&&i(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(i,t,r){return i&&"function"==typeof i.next?this.observe(i):this.do(i,t,r)}toObservable(){switch(this.kind){case"N":return(0,G.of)(this.value);case"E":return(0,j._)(this.error);case"C":return(0,V.c)()}throw new Error("unexpected notification kind value")}static createNext(i){return void 0!==i?new u("N",i):u.undefinedValueNotification}static createError(i){return new u("E",void 0,i)}static createComplete(){return u.completeNotification}}u.completeNotification=new u("C"),u.undefinedValueNotification=new u("N",void 0);class g extends Y.L{constructor(i,t,r=0){super(i),this.scheduler=t,this.delay=r}static dispatch(i){const{notification:t,destination:r}=i;t.observe(r),this.unsubscribe()}scheduleMessage(i){this.destination.add(this.scheduler.schedule(g.dispatch,this.delay,new z(i,this.destination)))}_next(i){this.scheduleMessage(u.createNext(i))}_error(i){this.scheduleMessage(u.createError(i)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class z{constructor(i,t){this.notification=i,this.destination=t}}var H=a(5279),L=a(5283);class W extends A.xQ{constructor(i=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const t=this._events;t.push(i),t.length>this._bufferSize&&t.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new K(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=r.length;let p;if(this.closed)throw new H.N;if(this.isStopped||this.hasError?p=R.w.EMPTY:(this.observers.push(i),p=new L.W(this,i)),o&&i.add(i=new g(i,o)),t)for(let c=0;c<s&&!i.closed;c++)i.next(r[c]);else for(let c=0;c<s&&!i.closed;c++)i.next(r[c].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),p}_getNow(){return(this.scheduler||B).now()}_trimBufferThenGetEvents(){const i=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,s=o.length;let p=0;for(;p<s&&!(i-o[p].time<r);)p++;return s>t&&(p=Math.max(p,s-t)),p>0&&o.splice(0,p),o}}class K{constructor(i,t){this.time=i,this.value=t}}var X=a(591),x=a(4850),ee=a(5778),v=a(5834);let f=(()=>{class n{constructor(t,r){this.router=t,this.activatedRoute=r,this.steps=[],this.maxStepIndexViewed=-1,this.allStepsViewed=!1,this._stepTemplate$=new W(1),this.stepTemplate$=this._stepTemplate$.asObservable(),this.nav=[],this._state$=new X.X({sectionIndex:0,stepIndex:0,isStepValid:!1,hasPrevStep:!1,hasNextStep:!1,lastStepIndex:0,maxStepIndexViewed:-1,allStepsViewed:!1,nav:[]}),this.state$=this._state$.asObservable(),this.currentStepControlElements=new Set}get state(){return this._state$.value}get firstStepIndex(){return this.onboarding?-1:0}get lastStepIndex(){return this.steps.length+(this.summary?0:-1)}init(){this.pathSubscription=this.activatedRoute.paramMap.pipe((0,x.U)(t=>t.get(N))).subscribe(t=>{!this.steps.length||this.handlePath(t)})}ngOnDestroy(){var t;null===(t=this.pathSubscription)||void 0===t||t.unsubscribe()}addStep(t){this.steps.push(t)}addNavSection(t){this.nav.push(t)}addControlElement(t){this.currentStepControlElements.add(t),1===this.currentStepControlElements.size&&(null==t||t.focus())}removeControlElement(t){this.currentStepControlElements.delete(t)}navigateByStepIndex(t){var r,o,s;const p=this.getCheckedStepIndex(t);let c,l;c=-1===p?this.onboarding.path:p===this.steps.length?this.summary.path:this.steps[p].path,l=void 0!==this.stepIndex&&this.router.url.match(`/${null===(r=this.steps[this.stepIndex])||void 0===r?void 0:r.path}`)?null===(o=this.steps[this.stepIndex])||void 0===o?void 0:o.path:this.onboarding&&this.router.url.match(`/${this.onboarding.path}`)?this.onboarding.path:this.summary&&this.router.url.match(`/${this.summary.path}`)?this.summary.path:null===(s=this.steps.find(({path:h})=>this.router.url.match(`/${h}`)))||void 0===s?void 0:s.path,l?this.router.navigateByUrl(this.router.url.replace(`/${l}`,`/${c}`)):this.router.navigate(["/"])}prevStep(){this.navigateByStepIndex(this.stepIndex-1)}nextStep(){this.navigateByStepIndex(this.stepIndex+1)}handlePath(t){var r,o;if(t===(null===(r=this.onboarding)||void 0===r?void 0:r.path)||t===(null===(o=this.summary)||void 0===o?void 0:o.path)&&!this.hasSkippedSomePreviousSteps())return void this.handleExtraPagePath(t);const s=this.steps.findIndex(p=>t===p.path);-1===s||this.hasSkippedSomePreviousSteps(s)?this.navigateByStepIndex(this.firstStepIndex):this.setStepByIndex(s)}hasSkippedSomePreviousSteps(t=this.steps.length-1){return t>0&&this.steps.slice(0,t).some(r=>r.control.hasValidator(m.kI.required)&&r.control.pristine)}handleExtraPagePath(t){var r,o,s;t===(null===(r=this.summary)||void 0===r?void 0:r.path)&&(this.maxStepIndexViewed=this.lastStepIndex,this.allStepsViewed=!0),t===(null===(o=this.onboarding)||void 0===o?void 0:o.path)?(this.stepIndex=-1,this._stepTemplate$.next(this.onboarding.templateRef),this._state$.next(Object.assign({sectionIndex:-1,stepIndex:-1,isStepValid:!0,hasPrevStep:!1,hasNextStep:!0},this.commonState))):t===(null===(s=this.summary)||void 0===s?void 0:s.path)&&(this.stepIndex=this.steps.length,this._stepTemplate$.next(this.summary.templateRef),this._state$.next(Object.assign({sectionIndex:this.nav.length,stepIndex:this.steps.length,isStepValid:!0,hasPrevStep:!0,hasNextStep:!1},this.commonState)))}setStepByIndex(t){var r;this.stepIndex=this.getCheckedStepIndex(t),this.maxStepIndexViewed=Math.max(this.maxStepIndexViewed,this.stepIndex),this.maxStepIndexViewed===this.lastStepIndex&&(this.allStepsViewed=!0);const o=this.steps[this.stepIndex];this._stepTemplate$.next(o.templateRef);const s=p=>{this._state$.next(Object.assign({sectionIndex:o.sectionIndex,sectionProgression:o.sectionProgression,stepIndex:o.stepIndex,isStepValid:p,hasPrevStep:this.stepIndex>this.firstStepIndex,hasNextStep:this.stepIndex<this.lastStepIndex},this.commonState))};s(o.control.valid),null===(r=this.stepSubscription)||void 0===r||r.unsubscribe(),this.stepSubscription=o.control.statusChanges.pipe((0,ee.x)(),(0,x.U)(p=>"VALID"===p)).subscribe(s)}getCheckedStepIndex(t){return Math.min(Math.max(this.firstStepIndex,t),this.lastStepIndex)}get commonState(){return{lastStepIndex:this.lastStepIndex,maxStepIndexViewed:this.maxStepIndexViewed,allStepsViewed:this.allStepsViewed,onboardingInfo:this.onboarding?{title:this.onboarding.title,index:-1}:void 0,summaryInfo:this.summary?{title:this.summary.title,index:this.steps.length}:void 0,nav:[...this.nav]}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.F0),e.LFG(v.gz))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function te(n,i){if(1&n&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Oqu(t)}}function ne(n,i){1&n&&e.GkF(0,2),2&n&&e.Q6J("ngTemplateOutlet",i.ngIf)}let w=(()=>{class n{constructor(t){this.service=t,this.sectionTitle$=this.service.state$.pipe((0,x.U)(r=>{var o,s,p,c,l;return r.stepIndex===(null===(o=r.onboardingInfo)||void 0===o?void 0:o.index)?null===(s=r.onboardingInfo)||void 0===s?void 0:s.title:r.stepIndex===(null===(p=r.summaryInfo)||void 0===p?void 0:p.index)?null===(c=r.summaryInfo)||void 0===c?void 0:c.title:null===(l=r.nav[r.sectionIndex])||void 0===l?void 0:l.title})),this.stepTemplate$=this.service.stepTemplate$}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["form-stepper-main"]],decls:4,vars:6,consts:[[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&(e.YNc(0,te,2,1,"h3",0),e.ALo(1,"async"),e.YNc(2,ne,1,1,"ng-container",1),e.ALo(3,"async")),2&t&&(e.Q6J("ngIf",e.lcZ(1,2,r.sectionTitle$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,4,r.stepTemplate$)))},directives:[d.O5,d.tP],pipes:[d.Ov],styles:[""],changeDetection:0}),n})();function ie(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"button",6),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().ngIf;return e.oxw().navigateByStepIndex(o,s.onboardingInfo.index)}),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw().ngIf;e.ekj("section--valid",t.maxStepIndexViewed>=0)("section--current",-1===t.stepIndex),e.xp6(2),e.hij(" ",t.onboardingInfo.title," ")}}function re(n,i){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).ngIf;e.xp6(1),e.AsE(" (",t.sectionProgression.count,"/",t.sectionProgression.total,") ")}}function oe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"button",14),e.NdJ("click",function(o){const p=e.CHM(t).index,c=e.oxw(2).$implicit;return e.oxw(2).navigateByStepIndex(o,c.offset+p)}),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=i.$implicit,r=i.index,o=e.oxw(2).$implicit,s=e.oxw().ngIf;e.ekj("step--valid",o.offset+r<=s.maxStepIndexViewed&&t.control.valid)("step--current",s.stepIndex===o.offset+r),e.xp6(1),e.Q6J("disabled",o.offset+r>=s.maxStepIndexViewed&&t.control.pristine),e.xp6(1),e.hij(" ",t.title," ")}}function se(n,i){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,oe,3,6,"div",12),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.steps)}}function pe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"button",7),e.NdJ("click",function(o){const p=e.CHM(t).$implicit;return e.oxw(2).navigateByStepIndex(o,p.offset)}),e._uU(2),e.YNc(3,re,2,2,"span",8),e.qZA(),e.YNc(4,se,2,1,"div",9),e.qZA()}if(2&n){const t=i.$implicit,r=i.index,o=i.last,s=e.oxw().ngIf;e.ekj("section--valid",t.offset<=s.maxStepIndexViewed&&t.control.valid)("section--current",s.sectionIndex===r)("section--last",!s.summaryInfo&&o),e.xp6(1),e.Q6J("disabled",t.offset>s.maxStepIndexViewed&&t.steps[0].control.pristine),e.xp6(1),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("ngIf",s.sectionProgression&&s.sectionIndex===r),e.xp6(1),e.Q6J("ngIf",t.steps.length>=2)}}function ce(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"button",7),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().ngIf;return e.oxw().navigateByStepIndex(o,s.summaryInfo.index)}),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=e.oxw().ngIf;e.ekj("section--valid",t.allStepsViewed)("section--current",t.stepIndex===t.lastStepIndex),e.xp6(1),e.Q6J("disabled",!t.allStepsViewed),e.xp6(1),e.hij(" ",t.summaryInfo.title," ")}}function ae(n,i){if(1&n&&(e.TgZ(0,"nav",1),e.YNc(1,ie,3,5,"div",2),e.YNc(2,pe,5,10,"div",3),e.YNc(3,ce,3,6,"div",4),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t.onboardingInfo),e.xp6(1),e.Q6J("ngForOf",t.nav),e.xp6(1),e.Q6J("ngIf",t.summaryInfo)}}let P=(()=>{class n{constructor(t){this.service=t,this.state$=this.service.state$}navigateByStepIndex(t,r){t.stopPropagation(),this.service.navigateByStepIndex(r)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["form-stepper-nav"]],decls:2,vars:3,consts:[["class","sections",4,"ngIf"],[1,"sections"],["class","section",3,"section--valid","section--current",4,"ngIf"],["class","section",3,"section--valid","section--current","section--last",4,"ngFor","ngForOf"],["class","section section--last",3,"section--valid","section--current",4,"ngIf"],[1,"section"],["type","button","tabindex","-1",1,"section__btn",3,"click"],["type","button","tabindex","-1",1,"section__btn",3,"disabled","click"],["class","section__progression",4,"ngIf"],["class","steps",4,"ngIf"],[1,"section__progression"],[1,"steps"],["class","step",3,"step--valid","step--current",4,"ngFor","ngForOf"],[1,"step"],["type","button","tabindex","-1",1,"step__btn",3,"disabled","click"],[1,"section","section--last"]],template:function(t,r){1&t&&(e.YNc(0,ae,4,3,"nav",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,r.state$))},directives:[d.O5,d.sg],pipes:[d.Ov],styles:['button[_ngcontent-%COMP%]{display:block;border:none;background:none;text-align:left;color:inherit;font-family:inherit;font-size:100%;line-height:1.5rem;border-radius:1.25rem;transition:border-color 125ms ease,background-color 125ms ease,color 125ms ease}button[_ngcontent-%COMP%]:not([disabled]){cursor:pointer}.sections[_ngcontent-%COMP%]{position:relative}.sections[_ngcontent-%COMP%]:before{content:"";position:absolute;top:1.25rem;bottom:2.25rem;left:0;border-left:3px solid #ccc}.section[_ngcontent-%COMP%]{position:relative;padding:0 0 1rem .75rem}.section[_ngcontent-%COMP%]:not(.section--last):before{content:"";position:absolute;top:1.25rem;left:0;border-left:4px solid #4caf50;height:0%;transition:height .25s ease}.section[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(1.25rem - 8px);left:-8px;width:19px;height:19px;box-sizing:border-box;border-radius:99px;border:2px solid #fff;background-color:#ccc;transition:background-color .25s ease}.section--valid[_ngcontent-%COMP%]:not(.section--last):before{height:100%}.section--valid[_ngcontent-%COMP%]:after{background-color:#4caf50}.section__btn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:.5rem 1.5rem;font-size:1.25rem}.section__progression[_ngcontent-%COMP%]{padding-left:.5rem;font-size:.825rem}.step[_ngcontent-%COMP%]{position:relative;padding-top:.25rem}.step[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(1.25rem - 6px);left:calc(-.75rem - 5px);width:13px;height:13px;box-sizing:border-box;border-radius:99px;border:2px solid #fff;background-color:#ddd;transition:background-color .25s ease}.step--valid[_ngcontent-%COMP%]:after{background-color:#4caf50}.step__btn[_ngcontent-%COMP%]{border:1px solid transparent;font-size:.875rem;width:100%;padding:.125rem 1.5rem .125rem 3rem}.section--valid[_ngcontent-%COMP%], .step--valid[_ngcontent-%COMP%]{color:#4caf50}.section--current[_ngcontent-%COMP%]   .section__btn[_ngcontent-%COMP%]{background-color:#eee}.section--valid.section--current[_ngcontent-%COMP%] > .section__btn[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.step--current[_ngcontent-%COMP%]   .step__btn[_ngcontent-%COMP%]{border:1px solid #ddd}.step--valid.step--current[_ngcontent-%COMP%] > .step__btn[_ngcontent-%COMP%]{border:1px solid #4caf50}.section[_ngcontent-%COMP%]:not(.section--current) > .steps[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),n})(),Z=(()=>{class n{constructor(t){this.service=t}get isDisabled(){return!this.service.state.hasPrevStep}onClick(){this.service.prevStep()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275dir=e.lG2({type:n,selectors:[["","formStepperPrev",""]],hostVars:1,hostBindings:function(t,r){1&t&&e.NdJ("click",function(){return r.onClick()}),2&t&&e.Ikx("disabled",r.isDisabled)}}),n})(),O=(()=>{class n{constructor(t){this.service=t}get isDisabled(){return!this.service.state.hasNextStep||!this.service.state.isStepValid}onClick(){this.service.nextStep()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275dir=e.lG2({type:n,selectors:[["","formStepperNext",""]],hostVars:1,hostBindings:function(t,r){1&t&&e.NdJ("click",function(){return r.onClick()}),2&t&&e.Ikx("disabled",r.isDisabled)}}),n})();function le(n,i){if(1&n&&e.GkF(0,8),2&n){const t=e.oxw(2);e.Q6J("ngTemplateOutlet",t.submitDirective.templateRef)}}function me(n,i){1&n&&(e.TgZ(0,"button",9),e._uU(1,"Next"),e.qZA())}function de(n,i){if(1&n&&(e.TgZ(0,"div",4),e.TgZ(1,"button",5),e._uU(2,"Prev"),e.qZA(),e.YNc(3,le,1,1,"ng-container",6),e.YNc(4,me,2,0,"ng-template",null,7,e.W1O),e.qZA()),2&n){const t=i.ngIf,r=e.MAs(5),o=e.oxw();e.xp6(3),e.Q6J("ngIf",t.stepIndex===t.lastStepIndex&&(null==o.submitDirective?null:o.submitDirective.templateRef)&&o.formStepperRoot.valid)("ngIfElse",r)}}let k=(()=>{class n{constructor(t){this.service=t,this.stepTemplate$=this.service.stepTemplate$,this.state$=this.service.state$,this.prevStep=this.service.prevStep.bind(this.service),this.nextStep=this.service.nextStep.bind(this.service)}ngAfterContentInit(){if(this.onboardingDirective){const{formStepperTitle:t,formStepperPath:r,templateRef:o}=this.onboardingDirective;this.service.onboarding={title:t,path:r,templateRef:o}}if(this.summaryDirective){const{formStepperTitle:t,formStepperPath:r,templateRef:o}=this.summaryDirective;this.service.summary={title:t,path:r,templateRef:o}}}ngAfterViewInit(){setTimeout(()=>this.service.init(),0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["form-stepper-container"]],contentQueries:function(t,r,o){if(1&t&&(e.Suo(o,S,5),e.Suo(o,_,5),e.Suo(o,b,5)),2&t){let s;e.iGM(s=e.CRH())&&(r.onboardingDirective=s.first),e.iGM(s=e.CRH())&&(r.summaryDirective=s.first),e.iGM(s=e.CRH())&&(r.submitDirective=s.first)}},inputs:{formStepperRoot:"formStepperRoot"},features:[e._Bn([f])],decls:5,vars:3,consts:[[2,"display","flex","justify-content","center"],[2,"padding","3rem","width","400px"],[2,"padding","3rem","width","200px"],["style","padding: 3rem; text-align: center",4,"ngIf"],[2,"padding","3rem","text-align","center"],["type","button","tabindex","-1","formStepperPrev",""],[3,"ngTemplateOutlet",4,"ngIf","ngIfElse"],["next",""],[3,"ngTemplateOutlet"],["type","button","tabindex","-1","formStepperNext",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"form-stepper-main",1),e._UZ(2,"form-stepper-nav",2),e.qZA(),e.YNc(3,de,6,2,"div",3),e.ALo(4,"async")),2&t&&(e.xp6(3),e.Q6J("ngIf",e.lcZ(4,1,r.state$)))},directives:[w,P,d.O5,Z,d.tP,O],pipes:[d.Ov],styles:[""],changeDetection:0}),n})(),D=(()=>{class n{constructor(t,r){this.service=t,this.elementRef=r}onEnter(t){"noPreventDefault"!==this.formStepperControl&&t.preventDefault(),this.service.state.isStepValid&&this.service.nextStep()}ngOnInit(){this.service.addControlElement(this.elementRef.nativeElement)}ngOnDestroy(){this.service.removeControlElement(this.elementRef.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","formStepperControl",""]],hostBindings:function(t,r){1&t&&e.NdJ("keydown.enter",function(s){return r.onEnter(s)})},inputs:{formStepperControl:"formStepperControl"}}),n})();function fe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p"),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e._uU(4),e.TgZ(5,"button",4),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw(4).navigateByStepIndex(s.stepIndex)}),e._uU(6,"Update"),e.qZA(),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(4);e.xp6(2),e.Oqu(t.title),e.xp6(2),e.hij(" ",r.getValue(t.control)," ")}}function he(n,i){if(1&n&&(e.TgZ(0,"div",3),e._uU(1),e.YNc(2,fe,7,2,"p",1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("ngForOf",t.steps)}}function ve(n,i){if(1&n&&(e.ynx(0),e.YNc(1,he,3,2,"div",2),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t.hasQuicknav)}}function Se(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ve,2,1,"ng-container",1),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}let M=(()=>{class n{constructor(t){this.service=t,this.nav$=this.service.state$.pipe((0,x.U)(({nav:r})=>r)),this.navigateByStepIndex=this.service.navigateByStepIndex.bind(this.service)}getValue(t){return t instanceof m.cw?Object.values(t.value).join(", "):t instanceof m.Oe?t.value.join(", "):t.value}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["form-stepper-quicknav"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["style","border: 1px solid #ccc; margin-bottom: 1rem; padding: 1rem",4,"ngIf"],[2,"border","1px solid #ccc","margin-bottom","1rem","padding","1rem"],["type","button","tabindex","-1",3,"click"]],template:function(t,r){1&t&&(e.YNc(0,Se,2,1,"div",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,r.nav$))},directives:[d.O5,d.sg],pipes:[d.Ov],styles:[""],changeDetection:0}),n})(),C=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","formStepperStep",""]],inputs:{formStepperStep:"formStepperStep",formStepperTitle:"formStepperTitle",formStepperPath:"formStepperPath"}}),n})(),Q=(()=>{class n{constructor(t){this.service=t}ngAfterViewInit(){const t=this.service.steps.length,r=[];this.stepDirectiveQueryList.forEach(({formStepperTitle:o,formStepperPath:s,formStepperStep:p,templateRef:c},l)=>{const h={title:o,path:s,control:p,templateRef:c,sectionIndex:this.service.nav.length,stepIndex:t+l};this.stepDirectiveQueryList.length>=2&&(h.sectionProgression={count:l+1,total:this.stepDirectiveQueryList.length}),this.service.addStep(h),r.push(h)}),this.service.addNavSection({title:this.formStepperTitle,control:this.formStepperSection,offset:t,steps:r,hasQuicknav:!this.formStepperNoQuicknav})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275dir=e.lG2({type:n,selectors:[["","formStepperSection",""]],contentQueries:function(t,r,o){if(1&t&&e.Suo(o,C,4),2&t){let s;e.iGM(s=e.CRH())&&(r.stepDirectiveQueryList=s)}},inputs:{formStepperSection:"formStepperSection",formStepperTitle:"formStepperTitle",formStepperNoQuicknav:"formStepperNoQuicknav"}}),n})(),_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez]]}),n})();function ge(n,i){1&n&&(e.TgZ(0,"p"),e._uU(1,"Welcome to form stepper"),e.qZA())}function xe(n,i){1&n&&e._UZ(0,"form-stepper-quicknav")}function be(n,i){if(1&n&&(e.TgZ(0,"button",19),e._uU(1,"Submit"),e.qZA()),2&n){const t=e.oxw();e.Q6J("disabled",t.submitInProgress)}}function Ce(n,i){if(1&n&&(e._uU(0," First name:"),e._UZ(1,"br"),e._UZ(2,"input",20)),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formControl",t.firstName)}}function Ie(n,i){if(1&n&&(e._uU(0," Last name:"),e._UZ(1,"br"),e._UZ(2,"input",20)),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formControl",t.lastName)}}function ye(n,i){if(1&n&&(e._uU(0," Email:"),e._UZ(1,"br"),e._UZ(2,"input",20)),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formControl",t.email)}}function Fe(n,i){if(1&n&&(e._uU(0," Street:"),e._UZ(1,"br"),e._UZ(2,"input",20)),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formControl",t.street)}}function Te(n,i){if(1&n&&(e._uU(0," Zip code:"),e._UZ(1,"br"),e._UZ(2,"input",20),e._UZ(3,"br"),e._uU(4," City:"),e._UZ(5,"br"),e._UZ(6,"input",20)),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formControl",t.zipCode),e.xp6(4),e.Q6J("formControl",t.city)}}const we=[{path:`:${N}`,component:(()=>{class n{constructor(t,r){var o,s,p,c,l,h,I,y,F;this.formBuilder=t,this.changeDetectorRef=r,this.formGroup=this.formBuilder.group({fullName:this.formBuilder.group({firstName:["",m.kI.required],lastName:["",m.kI.required]}),contact:this.formBuilder.group({email:["",m.kI.required]}),address:this.formBuilder.group({street:[""],zipCodeAndCity:this.formBuilder.group({zipCode:["",m.kI.required],city:["",m.kI.required]})})}),this.fullName=this.formGroup.get("fullName"),this.firstName=null===(o=this.formGroup.get("fullName"))||void 0===o?void 0:o.get("firstName"),this.lastName=null===(s=this.formGroup.get("fullName"))||void 0===s?void 0:s.get("lastName"),this.contact=this.formGroup.get("contact"),this.email=null===(p=this.formGroup.get("contact"))||void 0===p?void 0:p.get("email"),this.address=this.formGroup.get("address"),this.street=null===(c=this.formGroup.get("address"))||void 0===c?void 0:c.get("street"),this.zipCodeAndCity=null===(l=this.formGroup.get("address"))||void 0===l?void 0:l.get("zipCodeAndCity"),this.zipCode=null===(I=null===(h=this.formGroup.get("address"))||void 0===h?void 0:h.get("zipCodeAndCity"))||void 0===I?void 0:I.get("zipCode"),this.city=null===(F=null===(y=this.formGroup.get("address"))||void 0===y?void 0:y.get("zipCodeAndCity"))||void 0===F?void 0:F.get("city"),this.submitInProgress=!1}submitForm(){this.formGroup.invalid||(this.submitInProgress=!0,console.log("Submitting",JSON.stringify(this.formGroup.value,void 0,2)),setTimeout(()=>{this.submitInProgress=!1,this.changeDetectorRef.detectChanges()},1e3))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.qu),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-stepper"]],decls:25,vars:13,consts:[[3,"formGroup","ngSubmit"],[3,"formStepperRoot"],["formStepperOnboarding","","formStepperTitle","Onboarding","formStepperPath","onboarding"],["formStepperSummary","","formStepperTitle","Summary","formStepperPath","summary"],["formStepperSubmit",""],["formStepperTitle","Full name",3,"formStepperSection"],["formStepperTitle","First name","formStepperPath","first-name",3,"formStepperStep"],["formStepperTitle","Last name","formStepperPath","last-name",3,"formStepperStep"],["formStepperTitle","Contact",3,"formStepperSection"],["formStepperTitle","Email","formStepperPath","email",3,"formStepperStep"],["formStepperTitle","Address",3,"formStepperSection"],["formStepperTitle","Street","formStepperPath","street",3,"formStepperStep"],["formStepperTitle","Zip code and city","formStepperPath","zip-code-and-city",3,"formStepperStep"],[2,"width","400px","margin","auto"],["routerLink","/form-stepper/street"],["routerLink","/form-stepper/zip-code-and-city"],["routerLink","/form-stepper/oops"],[1,"footer"],["href","https://github.com/avine/ng-libs/blob/main/src/app/form-stepper/form-stepper.component.html","target","_blank",1,"link","link--external"],["type","submit",3,"disabled"],["formStepperControl","",3,"formControl"]],template:function(t,r){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return r.submitForm()}),e.TgZ(1,"form-stepper-container",1),e.YNc(2,ge,2,0,"ng-template",2),e.YNc(3,xe,1,0,"ng-template",3),e.YNc(4,be,2,1,"ng-template",4),e.ynx(5,5),e.YNc(6,Ce,3,1,"ng-template",6),e.YNc(7,Ie,3,1,"ng-template",7),e.BQk(),e.ynx(8,8),e.YNc(9,ye,3,1,"ng-template",9),e.BQk(),e.ynx(10,10),e.YNc(11,Fe,3,1,"ng-template",11),e.YNc(12,Te,7,2,"ng-template",12),e.BQk(),e.qZA(),e.qZA(),e.TgZ(13,"pre",13),e._uU(14),e.ALo(15,"json"),e.qZA(),e.TgZ(16,"a",14),e._uU(17," street "),e.qZA(),e.TgZ(18,"a",15),e._uU(19," zip-code-and-city "),e.qZA(),e.TgZ(20,"a",16),e._uU(21," oops "),e.qZA(),e.TgZ(22,"div",17),e.TgZ(23,"a",18),e._uU(24,"view demo source code"),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",r.formGroup),e.xp6(1),e.Q6J("formStepperRoot",r.formGroup),e.xp6(4),e.Q6J("formStepperSection",r.fullName),e.xp6(1),e.Q6J("formStepperStep",r.firstName),e.xp6(1),e.Q6J("formStepperStep",r.lastName),e.xp6(1),e.Q6J("formStepperSection",r.contact),e.xp6(1),e.Q6J("formStepperStep",r.email),e.xp6(1),e.Q6J("formStepperSection",r.address),e.xp6(1),e.Q6J("formStepperStep",r.street),e.xp6(1),e.Q6J("formStepperStep",r.zipCodeAndCity),e.xp6(2),e.hij("Value: ",e.lcZ(15,11,r.formGroup.value),""))},directives:[m._Y,m.JL,m.sg,k,S,_,M,b,Q,C,m.Fj,D,m.JJ,m.oH,v.yS],pipes:[d.Ts],styles:[""],changeDetection:0}),n})()}];let Pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[v.Bz.forChild(we)],v.Bz]}),n})(),Ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,Pe,m.UX,_e]]}),n})()}}]);