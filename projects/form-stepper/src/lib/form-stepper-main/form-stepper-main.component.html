<ng-container *ngIf="main$ | async as main">
  <a
    *ngIf="formStepperUsePrevAnchor; else usePrevButton"
    formStepperPrevAnchor
    href="#prev"
    class="form-stepper-main__prev"
    [class]="config.css.prev"
  >
    {{ config.translations.prev }}
  </a>

  <ng-template #usePrevButton>
    <button formStepperPrev type="button" tabindex="-1" class="form-stepper-main__prev" [class]="config.css.prev">
      {{ config.translations.prev }}
    </button>
  </ng-template>

  <h2 *ngIf="formStepperShowStepTitle" class="form-stepper-main__step-title" [class]="config.css.stepTitle">
    {{ main.stepTitle }}
  </h2>

  <div class="form-stepper-main__content">
    <ng-container [ngTemplateOutlet]="main.stepTemplate"></ng-container>
  </div>

  <button
    *ngIf="main.isLastStep; else next"
    type="submit"
    [disabled]="(isFormInvalid$ | async) || formStepperDisabled"
    class="form-stepper-main__submit"
    [class]="config.css.submit"
  >
    {{ config.translations.submit }}
  </button>

  <ng-template #next>
    <button formStepperNext type="button" tabindex="-1" class="form-stepper-main__next" [class]="config.css.next">
      {{ main.isOnboarding ? config.translations.start : config.translations.next }}
    </button>
  </ng-template>
</ng-container>
