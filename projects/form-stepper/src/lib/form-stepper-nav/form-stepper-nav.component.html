<ol *ngIf="state$ | async as state">
  <li *ngFor="let item of state.nav">
    <button
      [disabled]="item.offset >= state.maxStepIndexViewed && item.steps[0].control.pristine"
      (click)="setStep($event, item.offset)"
    >
      {{ item.title }}
    </button>
    ({{ item.section.valid }})
    <ul>
      <li *ngFor="let step of item.steps; let index = index">
        <button
          [disabled]="item.offset + index >= state.maxStepIndexViewed && step.control.pristine"
          (click)="setStep($event, item.offset + index)"
        >
          {{ step.title }}
        </button>
        ({{ step.control.valid }})
      </li>
    </ul>
  </li>
</ol>
