<ng-container [ngSwitch]="formStepperHideSections">
  <ng-container *ngSwitchCase="false">
    <div *ngIf="nav$ | async as nav" class="sections">
      <div *ngFor="let section of nav" class="section">
        <h3 *ngIf="section.hasQuicknav">{{ section.title }}</h3>

        <ng-container [ngTemplateOutlet]="steps" [ngTemplateOutletContext]="{ steps: section.steps }"></ng-container>
      </div>
    </div>
  </ng-container>

  <ng-container *ngSwitchCase="true">
    <div *ngIf="nav$ | async as nav">
      <ng-container *ngFor="let section of nav">
        <ng-container *ngIf="section.hasQuicknav">
          <ng-container [ngTemplateOutlet]="steps" [ngTemplateOutletContext]="{ steps: section.steps }"></ng-container>
        </ng-container>
      </ng-container>
    </div>
  </ng-container>
</ng-container>

<ng-template #steps let-steps="steps">
  <div *ngFor="let step of steps">
    <strong>{{ step.title }}:</strong>

    <span class="value">{{ getValue(step.control) }}</span>

    <form-stepper-icon
      icon="invalid"
      style="height: 0.75rem; cursor: pointer; padding: 0.5rem"
      (click)="navigateByStepIndex(step.stepIndex)"
    ></form-stepper-icon>
  </div>
</ng-template>
