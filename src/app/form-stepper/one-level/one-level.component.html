<form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
  <form-stepper-container [formStepperGroupRoot]="formGroup" [formStepperDisabled]="isBeingSubmitted">
    <ng-template formStepperOnboarding formStepperTitle="Onboarding" formStepperPath="onboarding">
      <p>Welcome!</p>
    </ng-template>

    <ng-container formStepperSection="firstName" formStepperTitle="First name">
      <ng-template formStepperStep formStepperPath="first-name">
        <input formControlName="firstName" formStepperControl />
      </ng-template>
    </ng-container>

    <ng-container formStepperSection="lastName" formStepperTitle="Last name">
      <ng-template formStepperStep formStepperPath="last-name">
        <input formControlName="lastName" formStepperControl />
      </ng-template>
    </ng-container>

    <ng-container formArrayName="hobbies" formStepperSection formStepperTitle="Hobbies">
      <ng-template formStepperStep formStepperPath="hobbies">
        <p *ngFor="let _ of hobbies.controls; let i = index">
          Hobby {{ i }} <input [formControlName]="i" formStepperControl />
        </p>
      </ng-template>
    </ng-container>

    <ng-container formStepperSection="cgu" formStepperTitle="Summary" [formStepperNoQuicknav]="true">
      <ng-template formStepperStep formStepperPath="summary">
        <form-stepper-quicknav [formStepperCompact]="true"></form-stepper-quicknav>
        <label><input type="checkbox" formControlName="cgu" formStepperControl /> CGU</label>
      </ng-template>
    </ng-container>
  </form-stepper-container>
</form>

<pre>Form {{ formGroup.value | json }}</pre>
